!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["spellchecker-wasm"]=t():e["spellchecker-wasm"]=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){this.cache={},this.data=e,this.ptr=t}get count(){return this.cache.count||(this.cache.count=o(this.data,this.ptr))}get distance(){return this.cache.distance||(this.cache.distance=o(this.data,this.ptr+4))}get term(){if(this.cache.term)return this.cache.term;const e=o(this.data,this.ptr+8);return this.cache.term=n.decodeString(new Uint8Array(this.data.buffer,this.ptr+12,e))}toJSON(){const{count:e,distance:t,term:r}=this;return{count:e,distance:t,term:r}}}function o(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}t.SuggestedItem=n,t.readU32=o,t.deserializeSuggestedItems=function(e,t,r){const s=new Uint8Array(e.slice(t,t+r));t=0;const i=o(s,0);t+=4;const c=[];for(let e=0;e<i;e++){const r=o(s,t);t+=4,c[e]=new n(s,t),t+=r}return c}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(2)),n(r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),o=r(0);class s extends n.SpellcheckerBase{constructor(e){super(e),o.SuggestedItem.decodeString=(new TextDecoder).decode}encodeString(e){return s.encoder.encode(e)}async prepareSpellchecker(e,t,r=null,o=n.defaultOptions){if(!(e instanceof Response))throw new TypeError("The wasmFetchResponse argument must be a Response object");if(!(t instanceof Response))throw new TypeError("The dictionaryFetchResponse argument must be a Response object");const s=await WebAssembly.instantiateStreaming(e,{env:{memoryBase:0,tableBase:0,memory:new WebAssembly.Memory({initial:1}),table:new WebAssembly.Table({initial:1,element:"anyfunc"}),result_handler:this.resultTrap}});if(!s)throw new Error("Failed to instantiate the parser.");const{symspell:i,write_to_dictionary:c,lookup:a,lookup_compound:u,memory:l}=s.instance.exports;this.wasmSymSpell={symspell:i,write_to_dictionary:c,lookup:a,lookup_compound:u,memory:l},i(2,7);const f=new Uint8Array([10]),d=async(e,t)=>{for(;;){const r=await e.read();if(r.done)return this.writeToBuffer(f,l),void c(0,1,!1);this.writeToBuffer(r.value,l),c(0,r.value.length,t)}};if(await d(t.body.getReader(),!1),r){if(!(r instanceof Response))throw new TypeError("The bigramFetchResponse argument must be a Response object");await d(r.body.getReader(),!1)}}}t.SpellcheckerWasm=s,s.encoder=new TextEncoder},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);var o;!function(e){e[e.Top=0]="Top",e[e.Closest=1]="Closest",e[e.All=2]="All"}(o=t.Verbosity||(t.Verbosity={})),t.defaultOptions={dictionaryEditDistance:7,countThreshold:1},t.defaultCheckSpellingOptions={includeUnknown:!1,maxEditDistance:2,verbosity:o.Closest};t.SpellcheckerBase=class{constructor(e){this.resultTrap=(e,t)=>{const{memory:r}=this.wasmSymSpell;this.resultHandler(n.deserializeSuggestedItems(r.buffer,e,t))},this.resultHandler=e}writeToDictionary(e,t=!1){this.writeToBuffer(e,this.wasmSymSpell.memory),this.wasmSymSpell.write_to_dictionary(0,e.byteLength,t)}checkSpelling(e,r=t.defaultCheckSpellingOptions){const{lookup:n,memory:o}=this.wasmSymSpell;let s;s=e instanceof Uint8Array?e:this.encodeString(e),this.writeToBuffer(s,o),n(0,s.byteLength,r.verbosity,r.maxEditDistance,r.includeUnknown)}checkSpellingCompound(e,r=t.defaultCheckSpellingOptions){const{lookup_compound:n,memory:o}=this.wasmSymSpell;let s;s=e instanceof Uint8Array?e:this.encodeString(e),this.writeToBuffer(s,o),n(0,s.byteLength,r.maxEditDistance)}writeToBuffer(e,t){(!this.writeBuffer||this.writeBuffer.buffer!==t.buffer||this.writeBuffer.byteLength<e.byteLength)&&(this.writeBuffer=new Uint8Array(t.buffer,0,e.byteLength)),this.writeBuffer.set(e,0)}}}])}));